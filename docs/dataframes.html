<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="joseangeldiazg" />


<title>Introducción a R III</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Programación para Ciencia de Datos con R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="vectores.html">Vectores</a>
</li>
<li>
  <a href="matrices.html">Matrices</a>
</li>
<li>
  <a href="dataframes.html">Dataframes</a>
</li>
<li>
  <a href="strings.html">Strings</a>
</li>
<li>
  <a href="inputoutput.html">Input Output</a>
</li>
<li>
  <a href="functions.html">Functions</a>
</li>
<li>
  <a href="program.html">Program Structures</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Introducción a R III</h1>
<h4 class="author"><em>joseangeldiazg</em></h4>
<h4 class="date"><em>14/12/2017</em></h4>

</div>


<div id="dataframes-listas-tablas-acceso-a-datos-y-condicionales" class="section level1">
<h1>Dataframes, listas, tablas, acceso a datos y condicionales</h1>
<div id="dataframes" class="section level2">
<h2>3.1 Dataframes</h2>
<p>Busca los datasets “beaver1” y “beaver2” que contienen información sobre la temperatura corporal de dos castores. Añade una columna llamada “ID” al dataset beaver1 que tenga siempre el valor 1. De forma similar añade una columna “ID” al dataset beaver2 que tenga siempre el valor 2. A continuación concatena de forma vertical los dos dataframes y busca el subset de datos donde ambos Castores están activos.</p>
<pre class="r"><code>x&lt;-cbind(beaver1,&quot;ID&quot;=1)

y&lt;-cbind(beaver2,&quot;ID&quot;=2)
beavers&lt;-rbind(x,y)
subb &lt;- subset(beavers, beavers[,&quot;activ&quot;]==1)
nrow(subb)</code></pre>
<pre><code>## [1] 68</code></pre>
</div>
</div>
<div id="acceso-y-seleccion-de-secciones-de-un-data-frames" class="section level1">
<h1>2.4 Acceso y selección de secciones de un data frames</h1>
<p>Vamos a trabajar con un ejemplo que viene por defecto en la instalación de R USArrests. Este data frame contiene la información para cada estado Americano de las tasas de criminales (por 100.000 habitantes). Los datos de las columnas se refieren a Asesinatos, violaciones yporcentaje de la población que vive en áreas urbanas. Los datos son de 1973. Contesta a las siguientes preguntas sobre los datos:</p>
<ol style="list-style-type: decimal">
<li>Las dimensiones del dataframe</li>
<li>La longitud del dataframe (filas o columnas)</li>
<li>Numero de columnas</li>
</ol>
<pre class="r"><code>USArrests</code></pre>
<pre><code>##                Murder Assault UrbanPop Rape
## Alabama          13.2     236       58 21.2
## Alaska           10.0     263       48 44.5
## Arizona           8.1     294       80 31.0
## Arkansas          8.8     190       50 19.5
## California        9.0     276       91 40.6
## Colorado          7.9     204       78 38.7
## Connecticut       3.3     110       77 11.1
## Delaware          5.9     238       72 15.8
## Florida          15.4     335       80 31.9
## Georgia          17.4     211       60 25.8
## Hawaii            5.3      46       83 20.2
## Idaho             2.6     120       54 14.2
## Illinois         10.4     249       83 24.0
## Indiana           7.2     113       65 21.0
## Iowa              2.2      56       57 11.3
## Kansas            6.0     115       66 18.0
## Kentucky          9.7     109       52 16.3
## Louisiana        15.4     249       66 22.2
## Maine             2.1      83       51  7.8
## Maryland         11.3     300       67 27.8
## Massachusetts     4.4     149       85 16.3
## Michigan         12.1     255       74 35.1
## Minnesota         2.7      72       66 14.9
## Mississippi      16.1     259       44 17.1
## Missouri          9.0     178       70 28.2
## Montana           6.0     109       53 16.4
## Nebraska          4.3     102       62 16.5
## Nevada           12.2     252       81 46.0
## New Hampshire     2.1      57       56  9.5
## New Jersey        7.4     159       89 18.8
## New Mexico       11.4     285       70 32.1
## New York         11.1     254       86 26.1
## North Carolina   13.0     337       45 16.1
## North Dakota      0.8      45       44  7.3
## Ohio              7.3     120       75 21.4
## Oklahoma          6.6     151       68 20.0
## Oregon            4.9     159       67 29.3
## Pennsylvania      6.3     106       72 14.9
## Rhode Island      3.4     174       87  8.3
## South Carolina   14.4     279       48 22.5
## South Dakota      3.8      86       45 12.8
## Tennessee        13.2     188       59 26.9
## Texas            12.7     201       80 25.5
## Utah              3.2     120       80 22.9
## Vermont           2.2      48       32 11.2
## Virginia          8.5     156       63 20.7
## Washington        4.0     145       73 26.2
## West Virginia     5.7      81       39  9.3
## Wisconsin         2.6      53       66 10.8
## Wyoming           6.8     161       60 15.6</code></pre>
<pre class="r"><code>dim.data.frame(USArrests) # 50 * 4</code></pre>
<pre><code>## [1] 50  4</code></pre>
<pre class="r"><code>nrow(USArrests) # 50</code></pre>
<pre><code>## [1] 50</code></pre>
<pre class="r"><code>ncol(USArrests) # 4</code></pre>
<pre><code>## [1] 4</code></pre>
<ul>
<li>¿Cómo calcularías el número de filas?</li>
</ul>
<pre class="r"><code>nrow(USArrests)  </code></pre>
<pre><code>## [1] 50</code></pre>
<ul>
<li>Obtén el nombre de las filas y las columnas para este data frame</li>
</ul>
<pre class="r"><code>row.names(USArrests)</code></pre>
<pre><code>##  [1] &quot;Alabama&quot;        &quot;Alaska&quot;         &quot;Arizona&quot;        &quot;Arkansas&quot;      
##  [5] &quot;California&quot;     &quot;Colorado&quot;       &quot;Connecticut&quot;    &quot;Delaware&quot;      
##  [9] &quot;Florida&quot;        &quot;Georgia&quot;        &quot;Hawaii&quot;         &quot;Idaho&quot;         
## [13] &quot;Illinois&quot;       &quot;Indiana&quot;        &quot;Iowa&quot;           &quot;Kansas&quot;        
## [17] &quot;Kentucky&quot;       &quot;Louisiana&quot;      &quot;Maine&quot;          &quot;Maryland&quot;      
## [21] &quot;Massachusetts&quot;  &quot;Michigan&quot;       &quot;Minnesota&quot;      &quot;Mississippi&quot;   
## [25] &quot;Missouri&quot;       &quot;Montana&quot;        &quot;Nebraska&quot;       &quot;Nevada&quot;        
## [29] &quot;New Hampshire&quot;  &quot;New Jersey&quot;     &quot;New Mexico&quot;     &quot;New York&quot;      
## [33] &quot;North Carolina&quot; &quot;North Dakota&quot;   &quot;Ohio&quot;           &quot;Oklahoma&quot;      
## [37] &quot;Oregon&quot;         &quot;Pennsylvania&quot;   &quot;Rhode Island&quot;   &quot;South Carolina&quot;
## [41] &quot;South Dakota&quot;   &quot;Tennessee&quot;      &quot;Texas&quot;          &quot;Utah&quot;          
## [45] &quot;Vermont&quot;        &quot;Virginia&quot;       &quot;Washington&quot;     &quot;West Virginia&quot; 
## [49] &quot;Wisconsin&quot;      &quot;Wyoming&quot;</code></pre>
<pre class="r"><code>colnames(USArrests)</code></pre>
<pre><code>## [1] &quot;Murder&quot;   &quot;Assault&quot;  &quot;UrbanPop&quot; &quot;Rape&quot;</code></pre>
<ul>
<li>Échale un vistazo a los datos, por ejemplo a las seis primeras filas</li>
</ul>
<pre class="r"><code>head(USArrests, 6)</code></pre>
<pre><code>##            Murder Assault UrbanPop Rape
## Alabama      13.2     236       58 21.2
## Alaska       10.0     263       48 44.5
## Arizona       8.1     294       80 31.0
## Arkansas      8.8     190       50 19.5
## California    9.0     276       91 40.6
## Colorado      7.9     204       78 38.7</code></pre>
<p>*Ordena de forma decreciente las filas de nuestro data frame según el porcentaje de población en el área urbana. Para ello investiga la función order () y sus parámetros.</p>
<pre class="r"><code>USArrests[order(USArrests$UrbanPop, decreasing = TRUE),]</code></pre>
<pre><code>##                Murder Assault UrbanPop Rape
## California        9.0     276       91 40.6
## New Jersey        7.4     159       89 18.8
## Rhode Island      3.4     174       87  8.3
## New York         11.1     254       86 26.1
## Massachusetts     4.4     149       85 16.3
## Hawaii            5.3      46       83 20.2
## Illinois         10.4     249       83 24.0
## Nevada           12.2     252       81 46.0
## Arizona           8.1     294       80 31.0
## Florida          15.4     335       80 31.9
## Texas            12.7     201       80 25.5
## Utah              3.2     120       80 22.9
## Colorado          7.9     204       78 38.7
## Connecticut       3.3     110       77 11.1
## Ohio              7.3     120       75 21.4
## Michigan         12.1     255       74 35.1
## Washington        4.0     145       73 26.2
## Delaware          5.9     238       72 15.8
## Pennsylvania      6.3     106       72 14.9
## Missouri          9.0     178       70 28.2
## New Mexico       11.4     285       70 32.1
## Oklahoma          6.6     151       68 20.0
## Maryland         11.3     300       67 27.8
## Oregon            4.9     159       67 29.3
## Kansas            6.0     115       66 18.0
## Louisiana        15.4     249       66 22.2
## Minnesota         2.7      72       66 14.9
## Wisconsin         2.6      53       66 10.8
## Indiana           7.2     113       65 21.0
## Virginia          8.5     156       63 20.7
## Nebraska          4.3     102       62 16.5
## Georgia          17.4     211       60 25.8
## Wyoming           6.8     161       60 15.6
## Tennessee        13.2     188       59 26.9
## Alabama          13.2     236       58 21.2
## Iowa              2.2      56       57 11.3
## New Hampshire     2.1      57       56  9.5
## Idaho             2.6     120       54 14.2
## Montana           6.0     109       53 16.4
## Kentucky          9.7     109       52 16.3
## Maine             2.1      83       51  7.8
## Arkansas          8.8     190       50 19.5
## Alaska           10.0     263       48 44.5
## South Carolina   14.4     279       48 22.5
## North Carolina   13.0     337       45 16.1
## South Dakota      3.8      86       45 12.8
## Mississippi      16.1     259       44 17.1
## North Dakota      0.8      45       44  7.3
## West Virginia     5.7      81       39  9.3
## Vermont           2.2      48       32 11.2</code></pre>
<ul>
<li>¿Podrías añadir un segundo criterio de orden?, ¿cómo?</li>
</ul>
<pre class="r"><code>USArrests[order(c(USArrests$UrbanPop,USArrests$Assault), decreasing = TRUE),]  </code></pre>
<pre><code>##                Murder Assault UrbanPop Rape
## NA                 NA      NA       NA   NA
## NA.1               NA      NA       NA   NA
## NA.2               NA      NA       NA   NA
## NA.3               NA      NA       NA   NA
## NA.4               NA      NA       NA   NA
## NA.5               NA      NA       NA   NA
## NA.6               NA      NA       NA   NA
## NA.7               NA      NA       NA   NA
## NA.8               NA      NA       NA   NA
## NA.9               NA      NA       NA   NA
## NA.10              NA      NA       NA   NA
## NA.11              NA      NA       NA   NA
## NA.12              NA      NA       NA   NA
## NA.13              NA      NA       NA   NA
## NA.14              NA      NA       NA   NA
## NA.15              NA      NA       NA   NA
## NA.16              NA      NA       NA   NA
## NA.17              NA      NA       NA   NA
## NA.18              NA      NA       NA   NA
## NA.19              NA      NA       NA   NA
## NA.20              NA      NA       NA   NA
## NA.21              NA      NA       NA   NA
## NA.22              NA      NA       NA   NA
## NA.23              NA      NA       NA   NA
## NA.24              NA      NA       NA   NA
## NA.25              NA      NA       NA   NA
## NA.26              NA      NA       NA   NA
## NA.27              NA      NA       NA   NA
## NA.28              NA      NA       NA   NA
## NA.29              NA      NA       NA   NA
## NA.30              NA      NA       NA   NA
## NA.31              NA      NA       NA   NA
## NA.32              NA      NA       NA   NA
## NA.33              NA      NA       NA   NA
## NA.34              NA      NA       NA   NA
## NA.35              NA      NA       NA   NA
## NA.36              NA      NA       NA   NA
## NA.37              NA      NA       NA   NA
## NA.38              NA      NA       NA   NA
## NA.39              NA      NA       NA   NA
## California        9.0     276       91 40.6
## New Jersey        7.4     159       89 18.8
## Rhode Island      3.4     174       87  8.3
## New York         11.1     254       86 26.1
## NA.40              NA      NA       NA   NA
## Massachusetts     4.4     149       85 16.3
## Hawaii            5.3      46       83 20.2
## Illinois         10.4     249       83 24.0
## NA.41              NA      NA       NA   NA
## Nevada           12.2     252       81 46.0
## NA.42              NA      NA       NA   NA
## Arizona           8.1     294       80 31.0
## Florida          15.4     335       80 31.9
## Texas            12.7     201       80 25.5
## Utah              3.2     120       80 22.9
## Colorado          7.9     204       78 38.7
## Connecticut       3.3     110       77 11.1
## Ohio              7.3     120       75 21.4
## Michigan         12.1     255       74 35.1
## Washington        4.0     145       73 26.2
## Delaware          5.9     238       72 15.8
## Pennsylvania      6.3     106       72 14.9
## NA.43              NA      NA       NA   NA
## Missouri          9.0     178       70 28.2
## New Mexico       11.4     285       70 32.1
## Oklahoma          6.6     151       68 20.0
## Maryland         11.3     300       67 27.8
## Oregon            4.9     159       67 29.3
## Kansas            6.0     115       66 18.0
## Louisiana        15.4     249       66 22.2
## Minnesota         2.7      72       66 14.9
## Wisconsin         2.6      53       66 10.8
## Indiana           7.2     113       65 21.0
## Virginia          8.5     156       63 20.7
## Nebraska          4.3     102       62 16.5
## Georgia          17.4     211       60 25.8
## Wyoming           6.8     161       60 15.6
## Tennessee        13.2     188       59 26.9
## Alabama          13.2     236       58 21.2
## Iowa              2.2      56       57 11.3
## NA.44              NA      NA       NA   NA
## New Hampshire     2.1      57       56  9.5
## NA.45              NA      NA       NA   NA
## Idaho             2.6     120       54 14.2
## Montana           6.0     109       53 16.4
## NA.46              NA      NA       NA   NA
## Kentucky          9.7     109       52 16.3
## Maine             2.1      83       51  7.8
## Arkansas          8.8     190       50 19.5
## Alaska           10.0     263       48 44.5
## South Carolina   14.4     279       48 22.5
## NA.47              NA      NA       NA   NA
## NA.48              NA      NA       NA   NA
## North Carolina   13.0     337       45 16.1
## South Dakota      3.8      86       45 12.8
## NA.49              NA      NA       NA   NA
## Mississippi      16.1     259       44 17.1
## North Dakota      0.8      45       44  7.3
## West Virginia     5.7      81       39  9.3
## Vermont           2.2      48       32 11.2</code></pre>
<ul>
<li>Muestra por pantalla la columna con los datos de asesinato</li>
</ul>
<pre class="r"><code>USArrests$Murder</code></pre>
<pre><code>##  [1] 13.2 10.0  8.1  8.8  9.0  7.9  3.3  5.9 15.4 17.4  5.3  2.6 10.4  7.2
## [15]  2.2  6.0  9.7 15.4  2.1 11.3  4.4 12.1  2.7 16.1  9.0  6.0  4.3 12.2
## [29]  2.1  7.4 11.4 11.1 13.0  0.8  7.3  6.6  4.9  6.3  3.4 14.4  3.8 13.2
## [43] 12.7  3.2  2.2  8.5  4.0  5.7  2.6  6.8</code></pre>
<ul>
<li>Muestra las tasas de asesinato para el segundo, tercer y cuarto estado</li>
</ul>
<pre class="r"><code>USArrests$Murder[2:4]</code></pre>
<pre><code>## [1] 10.0  8.1  8.8</code></pre>
<ul>
<li>Muestra las primeras cinco filas de todas las columnas</li>
</ul>
<pre class="r"><code>USArrests[1:5,]</code></pre>
<pre><code>##            Murder Assault UrbanPop Rape
## Alabama      13.2     236       58 21.2
## Alaska       10.0     263       48 44.5
## Arizona       8.1     294       80 31.0
## Arkansas      8.8     190       50 19.5
## California    9.0     276       91 40.6</code></pre>
<ul>
<li>Muestra todas las filas para las dos primeras columnas</li>
</ul>
<pre class="r"><code>USArrests[,1:2]</code></pre>
<pre><code>##                Murder Assault
## Alabama          13.2     236
## Alaska           10.0     263
## Arizona           8.1     294
## Arkansas          8.8     190
## California        9.0     276
## Colorado          7.9     204
## Connecticut       3.3     110
## Delaware          5.9     238
## Florida          15.4     335
## Georgia          17.4     211
## Hawaii            5.3      46
## Idaho             2.6     120
## Illinois         10.4     249
## Indiana           7.2     113
## Iowa              2.2      56
## Kansas            6.0     115
## Kentucky          9.7     109
## Louisiana        15.4     249
## Maine             2.1      83
## Maryland         11.3     300
## Massachusetts     4.4     149
## Michigan         12.1     255
## Minnesota         2.7      72
## Mississippi      16.1     259
## Missouri          9.0     178
## Montana           6.0     109
## Nebraska          4.3     102
## Nevada           12.2     252
## New Hampshire     2.1      57
## New Jersey        7.4     159
## New Mexico       11.4     285
## New York         11.1     254
## North Carolina   13.0     337
## North Dakota      0.8      45
## Ohio              7.3     120
## Oklahoma          6.6     151
## Oregon            4.9     159
## Pennsylvania      6.3     106
## Rhode Island      3.4     174
## South Carolina   14.4     279
## South Dakota      3.8      86
## Tennessee        13.2     188
## Texas            12.7     201
## Utah              3.2     120
## Vermont           2.2      48
## Virginia          8.5     156
## Washington        4.0     145
## West Virginia     5.7      81
## Wisconsin         2.6      53
## Wyoming           6.8     161</code></pre>
<ul>
<li>Muestra todas las filas de las columnas 1 y 3</li>
</ul>
<pre class="r"><code>USArrests[,c(1,3)]</code></pre>
<pre><code>##                Murder UrbanPop
## Alabama          13.2       58
## Alaska           10.0       48
## Arizona           8.1       80
## Arkansas          8.8       50
## California        9.0       91
## Colorado          7.9       78
## Connecticut       3.3       77
## Delaware          5.9       72
## Florida          15.4       80
## Georgia          17.4       60
## Hawaii            5.3       83
## Idaho             2.6       54
## Illinois         10.4       83
## Indiana           7.2       65
## Iowa              2.2       57
## Kansas            6.0       66
## Kentucky          9.7       52
## Louisiana        15.4       66
## Maine             2.1       51
## Maryland         11.3       67
## Massachusetts     4.4       85
## Michigan         12.1       74
## Minnesota         2.7       66
## Mississippi      16.1       44
## Missouri          9.0       70
## Montana           6.0       53
## Nebraska          4.3       62
## Nevada           12.2       81
## New Hampshire     2.1       56
## New Jersey        7.4       89
## New Mexico       11.4       70
## New York         11.1       86
## North Carolina   13.0       45
## North Dakota      0.8       44
## Ohio              7.3       75
## Oklahoma          6.6       68
## Oregon            4.9       67
## Pennsylvania      6.3       72
## Rhode Island      3.4       87
## South Carolina   14.4       48
## South Dakota      3.8       45
## Tennessee        13.2       59
## Texas            12.7       80
## Utah              3.2       80
## Vermont           2.2       32
## Virginia          8.5       63
## Washington        4.0       73
## West Virginia     5.7       39
## Wisconsin         2.6       66
## Wyoming           6.8       60</code></pre>
<ul>
<li>Muestra solo las primeras cinco filas de las columnas 1 y 2</li>
</ul>
<pre class="r"><code>USArrests[1:5,1:2]</code></pre>
<pre><code>##            Murder Assault
## Alabama      13.2     236
## Alaska       10.0     263
## Arizona       8.1     294
## Arkansas      8.8     190
## California    9.0     276</code></pre>
<ul>
<li>Extrae las filas para el índice Murder</li>
</ul>
<pre class="r"><code>USArrests$Murder</code></pre>
<pre><code>##  [1] 13.2 10.0  8.1  8.8  9.0  7.9  3.3  5.9 15.4 17.4  5.3  2.6 10.4  7.2
## [15]  2.2  6.0  9.7 15.4  2.1 11.3  4.4 12.1  2.7 16.1  9.0  6.0  4.3 12.2
## [29]  2.1  7.4 11.4 11.1 13.0  0.8  7.3  6.6  4.9  6.3  3.4 14.4  3.8 13.2
## [43] 12.7  3.2  2.2  8.5  4.0  5.7  2.6  6.8</code></pre>
<ul>
<li>¿Que estado tiene la menor tasa de asesinatos? ¿qué línea contiene esa información?, obtén esa información</li>
</ul>
<pre class="r"><code>minorMurder = USArrests[order(USArrests$Murder, decreasing = TRUE),]
minorMurder[nrow(minorMurder),]</code></pre>
<pre><code>##              Murder Assault UrbanPop Rape
## North Dakota    0.8      45       44  7.3</code></pre>
<p>*¿Que estados tienen una tasa inferior al 4%?, obtén esa información</p>
<pre class="r"><code>minorMurder[minorMurder$Murder&lt;4,]</code></pre>
<pre><code>##               Murder Assault UrbanPop Rape
## South Dakota     3.8      86       45 12.8
## Rhode Island     3.4     174       87  8.3
## Connecticut      3.3     110       77 11.1
## Utah             3.2     120       80 22.9
## Minnesota        2.7      72       66 14.9
## Idaho            2.6     120       54 14.2
## Wisconsin        2.6      53       66 10.8
## Iowa             2.2      56       57 11.3
## Vermont          2.2      48       32 11.2
## Maine            2.1      83       51  7.8
## New Hampshire    2.1      57       56  9.5
## North Dakota     0.8      45       44  7.3</code></pre>
<ul>
<li>¿Que estados estan en el cuartil superior (75) en lo que a poblacion en zonas urbanas se refiere?</li>
</ul>
<pre class="r"><code>rownames(USArrests[USArrests[,&quot;UrbanPop&quot;]&gt;quantile(USArrests[,&quot;UrbanPop&quot;],.75),])</code></pre>
<pre><code>##  [1] &quot;Arizona&quot;       &quot;California&quot;    &quot;Colorado&quot;      &quot;Florida&quot;      
##  [5] &quot;Hawaii&quot;        &quot;Illinois&quot;      &quot;Massachusetts&quot; &quot;Nevada&quot;       
##  [9] &quot;New Jersey&quot;    &quot;New York&quot;      &quot;Rhode Island&quot;  &quot;Texas&quot;        
## [13] &quot;Utah&quot;</code></pre>
<p>Carga el set de datos CO2 y realiza las siguientes acciones:</p>
<ol style="list-style-type: decimal">
<li>Ordena alfabéticamente los datos en function de la variable Plant. Recuerda que Plant es un factor. Imprime el resultado por pantalla para comprobarlo</li>
<li>Ordena los datos en función del incremento de la variable uptake y el orden alfabético de la planta (en ese orden)</li>
<li>Ordena de nuevo los datos en function del increment de la variable uptake y el orden alfabético reverso de la planta (en ese orden)</li>
</ol>
<pre class="r"><code>CO2</code></pre>
<pre><code>##    Plant        Type  Treatment conc uptake
## 1    Qn1      Quebec nonchilled   95   16.0
## 2    Qn1      Quebec nonchilled  175   30.4
## 3    Qn1      Quebec nonchilled  250   34.8
## 4    Qn1      Quebec nonchilled  350   37.2
## 5    Qn1      Quebec nonchilled  500   35.3
## 6    Qn1      Quebec nonchilled  675   39.2
## 7    Qn1      Quebec nonchilled 1000   39.7
## 8    Qn2      Quebec nonchilled   95   13.6
## 9    Qn2      Quebec nonchilled  175   27.3
## 10   Qn2      Quebec nonchilled  250   37.1
## 11   Qn2      Quebec nonchilled  350   41.8
## 12   Qn2      Quebec nonchilled  500   40.6
## 13   Qn2      Quebec nonchilled  675   41.4
## 14   Qn2      Quebec nonchilled 1000   44.3
## 15   Qn3      Quebec nonchilled   95   16.2
## 16   Qn3      Quebec nonchilled  175   32.4
## 17   Qn3      Quebec nonchilled  250   40.3
## 18   Qn3      Quebec nonchilled  350   42.1
## 19   Qn3      Quebec nonchilled  500   42.9
## 20   Qn3      Quebec nonchilled  675   43.9
## 21   Qn3      Quebec nonchilled 1000   45.5
## 22   Qc1      Quebec    chilled   95   14.2
## 23   Qc1      Quebec    chilled  175   24.1
## 24   Qc1      Quebec    chilled  250   30.3
## 25   Qc1      Quebec    chilled  350   34.6
## 26   Qc1      Quebec    chilled  500   32.5
## 27   Qc1      Quebec    chilled  675   35.4
## 28   Qc1      Quebec    chilled 1000   38.7
## 29   Qc2      Quebec    chilled   95    9.3
## 30   Qc2      Quebec    chilled  175   27.3
## 31   Qc2      Quebec    chilled  250   35.0
## 32   Qc2      Quebec    chilled  350   38.8
## 33   Qc2      Quebec    chilled  500   38.6
## 34   Qc2      Quebec    chilled  675   37.5
## 35   Qc2      Quebec    chilled 1000   42.4
## 36   Qc3      Quebec    chilled   95   15.1
## 37   Qc3      Quebec    chilled  175   21.0
## 38   Qc3      Quebec    chilled  250   38.1
## 39   Qc3      Quebec    chilled  350   34.0
## 40   Qc3      Quebec    chilled  500   38.9
## 41   Qc3      Quebec    chilled  675   39.6
## 42   Qc3      Quebec    chilled 1000   41.4
## 43   Mn1 Mississippi nonchilled   95   10.6
## 44   Mn1 Mississippi nonchilled  175   19.2
## 45   Mn1 Mississippi nonchilled  250   26.2
## 46   Mn1 Mississippi nonchilled  350   30.0
## 47   Mn1 Mississippi nonchilled  500   30.9
## 48   Mn1 Mississippi nonchilled  675   32.4
## 49   Mn1 Mississippi nonchilled 1000   35.5
## 50   Mn2 Mississippi nonchilled   95   12.0
## 51   Mn2 Mississippi nonchilled  175   22.0
## 52   Mn2 Mississippi nonchilled  250   30.6
## 53   Mn2 Mississippi nonchilled  350   31.8
## 54   Mn2 Mississippi nonchilled  500   32.4
## 55   Mn2 Mississippi nonchilled  675   31.1
## 56   Mn2 Mississippi nonchilled 1000   31.5
## 57   Mn3 Mississippi nonchilled   95   11.3
## 58   Mn3 Mississippi nonchilled  175   19.4
## 59   Mn3 Mississippi nonchilled  250   25.8
## 60   Mn3 Mississippi nonchilled  350   27.9
## 61   Mn3 Mississippi nonchilled  500   28.5
## 62   Mn3 Mississippi nonchilled  675   28.1
## 63   Mn3 Mississippi nonchilled 1000   27.8
## 64   Mc1 Mississippi    chilled   95   10.5
## 65   Mc1 Mississippi    chilled  175   14.9
## 66   Mc1 Mississippi    chilled  250   18.1
## 67   Mc1 Mississippi    chilled  350   18.9
## 68   Mc1 Mississippi    chilled  500   19.5
## 69   Mc1 Mississippi    chilled  675   22.2
## 70   Mc1 Mississippi    chilled 1000   21.9
## 71   Mc2 Mississippi    chilled   95    7.7
## 72   Mc2 Mississippi    chilled  175   11.4
## 73   Mc2 Mississippi    chilled  250   12.3
## 74   Mc2 Mississippi    chilled  350   13.0
## 75   Mc2 Mississippi    chilled  500   12.5
## 76   Mc2 Mississippi    chilled  675   13.7
## 77   Mc2 Mississippi    chilled 1000   14.4
## 78   Mc3 Mississippi    chilled   95   10.6
## 79   Mc3 Mississippi    chilled  175   18.0
## 80   Mc3 Mississippi    chilled  250   17.9
## 81   Mc3 Mississippi    chilled  350   17.9
## 82   Mc3 Mississippi    chilled  500   17.9
## 83   Mc3 Mississippi    chilled  675   18.9
## 84   Mc3 Mississippi    chilled 1000   19.9</code></pre>
<pre class="r"><code>CO2$Plant #is unsorted</code></pre>
<pre><code>##  [1] Qn1 Qn1 Qn1 Qn1 Qn1 Qn1 Qn1 Qn2 Qn2 Qn2 Qn2 Qn2 Qn2 Qn2 Qn3 Qn3 Qn3
## [18] Qn3 Qn3 Qn3 Qn3 Qc1 Qc1 Qc1 Qc1 Qc1 Qc1 Qc1 Qc2 Qc2 Qc2 Qc2 Qc2 Qc2
## [35] Qc2 Qc3 Qc3 Qc3 Qc3 Qc3 Qc3 Qc3 Mn1 Mn1 Mn1 Mn1 Mn1 Mn1 Mn1 Mn2 Mn2
## [52] Mn2 Mn2 Mn2 Mn2 Mn2 Mn3 Mn3 Mn3 Mn3 Mn3 Mn3 Mn3 Mc1 Mc1 Mc1 Mc1 Mc1
## [69] Mc1 Mc1 Mc2 Mc2 Mc2 Mc2 Mc2 Mc2 Mc2 Mc3 Mc3 Mc3 Mc3 Mc3 Mc3 Mc3
## 12 Levels: Qn1 &lt; Qn2 &lt; Qn3 &lt; Qc1 &lt; Qc3 &lt; Qc2 &lt; Mn3 &lt; Mn2 &lt; Mn1 &lt; ... &lt; Mc1</code></pre>
<pre class="r"><code>co_2ordered &lt;- CO2[order(CO2$Plant),]
co_2ordered</code></pre>
<pre><code>##    Plant        Type  Treatment conc uptake
## 1    Qn1      Quebec nonchilled   95   16.0
## 2    Qn1      Quebec nonchilled  175   30.4
## 3    Qn1      Quebec nonchilled  250   34.8
## 4    Qn1      Quebec nonchilled  350   37.2
## 5    Qn1      Quebec nonchilled  500   35.3
## 6    Qn1      Quebec nonchilled  675   39.2
## 7    Qn1      Quebec nonchilled 1000   39.7
## 8    Qn2      Quebec nonchilled   95   13.6
## 9    Qn2      Quebec nonchilled  175   27.3
## 10   Qn2      Quebec nonchilled  250   37.1
## 11   Qn2      Quebec nonchilled  350   41.8
## 12   Qn2      Quebec nonchilled  500   40.6
## 13   Qn2      Quebec nonchilled  675   41.4
## 14   Qn2      Quebec nonchilled 1000   44.3
## 15   Qn3      Quebec nonchilled   95   16.2
## 16   Qn3      Quebec nonchilled  175   32.4
## 17   Qn3      Quebec nonchilled  250   40.3
## 18   Qn3      Quebec nonchilled  350   42.1
## 19   Qn3      Quebec nonchilled  500   42.9
## 20   Qn3      Quebec nonchilled  675   43.9
## 21   Qn3      Quebec nonchilled 1000   45.5
## 22   Qc1      Quebec    chilled   95   14.2
## 23   Qc1      Quebec    chilled  175   24.1
## 24   Qc1      Quebec    chilled  250   30.3
## 25   Qc1      Quebec    chilled  350   34.6
## 26   Qc1      Quebec    chilled  500   32.5
## 27   Qc1      Quebec    chilled  675   35.4
## 28   Qc1      Quebec    chilled 1000   38.7
## 36   Qc3      Quebec    chilled   95   15.1
## 37   Qc3      Quebec    chilled  175   21.0
## 38   Qc3      Quebec    chilled  250   38.1
## 39   Qc3      Quebec    chilled  350   34.0
## 40   Qc3      Quebec    chilled  500   38.9
## 41   Qc3      Quebec    chilled  675   39.6
## 42   Qc3      Quebec    chilled 1000   41.4
## 29   Qc2      Quebec    chilled   95    9.3
## 30   Qc2      Quebec    chilled  175   27.3
## 31   Qc2      Quebec    chilled  250   35.0
## 32   Qc2      Quebec    chilled  350   38.8
## 33   Qc2      Quebec    chilled  500   38.6
## 34   Qc2      Quebec    chilled  675   37.5
## 35   Qc2      Quebec    chilled 1000   42.4
## 57   Mn3 Mississippi nonchilled   95   11.3
## 58   Mn3 Mississippi nonchilled  175   19.4
## 59   Mn3 Mississippi nonchilled  250   25.8
## 60   Mn3 Mississippi nonchilled  350   27.9
## 61   Mn3 Mississippi nonchilled  500   28.5
## 62   Mn3 Mississippi nonchilled  675   28.1
## 63   Mn3 Mississippi nonchilled 1000   27.8
## 50   Mn2 Mississippi nonchilled   95   12.0
## 51   Mn2 Mississippi nonchilled  175   22.0
## 52   Mn2 Mississippi nonchilled  250   30.6
## 53   Mn2 Mississippi nonchilled  350   31.8
## 54   Mn2 Mississippi nonchilled  500   32.4
## 55   Mn2 Mississippi nonchilled  675   31.1
## 56   Mn2 Mississippi nonchilled 1000   31.5
## 43   Mn1 Mississippi nonchilled   95   10.6
## 44   Mn1 Mississippi nonchilled  175   19.2
## 45   Mn1 Mississippi nonchilled  250   26.2
## 46   Mn1 Mississippi nonchilled  350   30.0
## 47   Mn1 Mississippi nonchilled  500   30.9
## 48   Mn1 Mississippi nonchilled  675   32.4
## 49   Mn1 Mississippi nonchilled 1000   35.5
## 71   Mc2 Mississippi    chilled   95    7.7
## 72   Mc2 Mississippi    chilled  175   11.4
## 73   Mc2 Mississippi    chilled  250   12.3
## 74   Mc2 Mississippi    chilled  350   13.0
## 75   Mc2 Mississippi    chilled  500   12.5
## 76   Mc2 Mississippi    chilled  675   13.7
## 77   Mc2 Mississippi    chilled 1000   14.4
## 78   Mc3 Mississippi    chilled   95   10.6
## 79   Mc3 Mississippi    chilled  175   18.0
## 80   Mc3 Mississippi    chilled  250   17.9
## 81   Mc3 Mississippi    chilled  350   17.9
## 82   Mc3 Mississippi    chilled  500   17.9
## 83   Mc3 Mississippi    chilled  675   18.9
## 84   Mc3 Mississippi    chilled 1000   19.9
## 64   Mc1 Mississippi    chilled   95   10.5
## 65   Mc1 Mississippi    chilled  175   14.9
## 66   Mc1 Mississippi    chilled  250   18.1
## 67   Mc1 Mississippi    chilled  350   18.9
## 68   Mc1 Mississippi    chilled  500   19.5
## 69   Mc1 Mississippi    chilled  675   22.2
## 70   Mc1 Mississippi    chilled 1000   21.9</code></pre>
<pre class="r"><code>is.unsorted(co_2ordered$Plant)</code></pre>
<pre><code>## [1] FALSE</code></pre>
<div id="importando-informacion" class="section level2">
<h2>3.2 Importando información</h2>
<ul>
<li>Vamos a trabajar con otro dataframe. Descarga el fichero student.txt de la plataforma PRADO, almacena la información en una variable llamada “students”. Ten en cuenta que los datos son tab-delimited y tienen un texto para cada columna. Comprueba que R ha leído correctamente el fichero imprimiendo el objeto en la pantalla.</li>
</ul>
<pre class="r"><code>students&lt;-read.table(&quot;./datasets/student.txt&quot;, header = TRUE)
students</code></pre>
<pre><code>##    height shoesize gender population
## 1     181       44   male     kuopio
## 2     160       38 female     kuopio
## 3     174       42 female     kuopio
## 4     170       43   male     kuopio
## 5     172       43   male     kuopio
## 6     165       39 female     kuopio
## 7     161       38 female     kuopio
## 8     167       38 female    tampere
## 9     164       39 female    tampere
## 10    166       38 female    tampere
## 11    162       37 female    tampere
## 12    158       36 female    tampere
## 13    175       42   male    tampere
## 14    181       44   male    tampere
## 15    180       43   male    tampere
## 16    177       43   male    tampere
## 17    173       41   male    tampere</code></pre>
<ul>
<li>Imprime solo los nombres de la columnas</li>
</ul>
<pre class="r"><code>colnames(students)</code></pre>
<pre><code>## [1] &quot;height&quot;     &quot;shoesize&quot;   &quot;gender&quot;     &quot;population&quot;</code></pre>
<ul>
<li>Llama a la columna height solo</li>
</ul>
<pre class="r"><code>students$height</code></pre>
<pre><code>##  [1] 181 160 174 170 172 165 161 167 164 166 162 158 175 181 180 177 173</code></pre>
<ul>
<li>¿Cuantas observaciones hay en cada grupo?. Utiliza la función table(). Este commando se puede utilizar para crear tablas cruzadas (cross-tabulations)</li>
</ul>
<pre class="r"><code>table(students)</code></pre>
<pre><code>## , , gender = female, population = kuopio
## 
##       shoesize
## height 36 37 38 39 41 42 43 44
##    158  0  0  0  0  0  0  0  0
##    160  0  0  1  0  0  0  0  0
##    161  0  0  1  0  0  0  0  0
##    162  0  0  0  0  0  0  0  0
##    164  0  0  0  0  0  0  0  0
##    165  0  0  0  1  0  0  0  0
##    166  0  0  0  0  0  0  0  0
##    167  0  0  0  0  0  0  0  0
##    170  0  0  0  0  0  0  0  0
##    172  0  0  0  0  0  0  0  0
##    173  0  0  0  0  0  0  0  0
##    174  0  0  0  0  0  1  0  0
##    175  0  0  0  0  0  0  0  0
##    177  0  0  0  0  0  0  0  0
##    180  0  0  0  0  0  0  0  0
##    181  0  0  0  0  0  0  0  0
## 
## , , gender = male, population = kuopio
## 
##       shoesize
## height 36 37 38 39 41 42 43 44
##    158  0  0  0  0  0  0  0  0
##    160  0  0  0  0  0  0  0  0
##    161  0  0  0  0  0  0  0  0
##    162  0  0  0  0  0  0  0  0
##    164  0  0  0  0  0  0  0  0
##    165  0  0  0  0  0  0  0  0
##    166  0  0  0  0  0  0  0  0
##    167  0  0  0  0  0  0  0  0
##    170  0  0  0  0  0  0  1  0
##    172  0  0  0  0  0  0  1  0
##    173  0  0  0  0  0  0  0  0
##    174  0  0  0  0  0  0  0  0
##    175  0  0  0  0  0  0  0  0
##    177  0  0  0  0  0  0  0  0
##    180  0  0  0  0  0  0  0  0
##    181  0  0  0  0  0  0  0  1
## 
## , , gender = female, population = tampere
## 
##       shoesize
## height 36 37 38 39 41 42 43 44
##    158  1  0  0  0  0  0  0  0
##    160  0  0  0  0  0  0  0  0
##    161  0  0  0  0  0  0  0  0
##    162  0  1  0  0  0  0  0  0
##    164  0  0  0  1  0  0  0  0
##    165  0  0  0  0  0  0  0  0
##    166  0  0  1  0  0  0  0  0
##    167  0  0  1  0  0  0  0  0
##    170  0  0  0  0  0  0  0  0
##    172  0  0  0  0  0  0  0  0
##    173  0  0  0  0  0  0  0  0
##    174  0  0  0  0  0  0  0  0
##    175  0  0  0  0  0  0  0  0
##    177  0  0  0  0  0  0  0  0
##    180  0  0  0  0  0  0  0  0
##    181  0  0  0  0  0  0  0  0
## 
## , , gender = male, population = tampere
## 
##       shoesize
## height 36 37 38 39 41 42 43 44
##    158  0  0  0  0  0  0  0  0
##    160  0  0  0  0  0  0  0  0
##    161  0  0  0  0  0  0  0  0
##    162  0  0  0  0  0  0  0  0
##    164  0  0  0  0  0  0  0  0
##    165  0  0  0  0  0  0  0  0
##    166  0  0  0  0  0  0  0  0
##    167  0  0  0  0  0  0  0  0
##    170  0  0  0  0  0  0  0  0
##    172  0  0  0  0  0  0  0  0
##    173  0  0  0  0  1  0  0  0
##    174  0  0  0  0  0  0  0  0
##    175  0  0  0  0  0  1  0  0
##    177  0  0  0  0  0  0  1  0
##    180  0  0  0  0  0  0  1  0
##    181  0  0  0  0  0  0  0  1</code></pre>
<ul>
<li>Crea nuevas variables a partir de los datos que tenemos. Vamos a crear una variable nueva “sym” que contenga M si el genero es masculino y F si el genero es femenino. Busca en la ayuda información sobre la función ifelse(). Crea una segunda variable “colours” cuyo valor será “Blue” si el estudiante es de kuopio y “Red” si es de otro sitio.</li>
</ul>
<pre class="r"><code>sym&lt;-ifelse(students$gender==&quot;male&quot;, &quot;M&quot;, &quot;F&quot;)
colours&lt;-ifelse(students$population==&quot;kuopio&quot;, &quot;Blue&quot;, &quot;Red&quot;)</code></pre>
<ul>
<li>Con los datos anteriores de height y shoesize y las nuevas variables crea un nuevo data.frame que se llame students.new</li>
</ul>
<pre class="r"><code>students.new&lt;-cbind(students,sym, colours)</code></pre>
<ul>
<li>Comprueba que la clase de student.new es un dataframe</li>
</ul>
<pre class="r"><code>str(students.new)</code></pre>
<pre><code>## &#39;data.frame&#39;:    17 obs. of  6 variables:
##  $ height    : int  181 160 174 170 172 165 161 167 164 166 ...
##  $ shoesize  : int  44 38 42 43 43 39 38 38 39 38 ...
##  $ gender    : Factor w/ 2 levels &quot;female&quot;,&quot;male&quot;: 2 1 1 2 2 1 1 1 1 1 ...
##  $ population: Factor w/ 2 levels &quot;kuopio&quot;,&quot;tampere&quot;: 1 1 1 1 1 1 1 2 2 2 ...
##  $ sym       : Factor w/ 2 levels &quot;F&quot;,&quot;M&quot;: 2 1 1 2 2 1 1 1 1 1 ...
##  $ colours   : Factor w/ 2 levels &quot;Blue&quot;,&quot;Red&quot;: 1 1 1 1 1 1 1 2 2 2 ...</code></pre>
<ul>
<li>Crea dos subsets a partir del dataset student. Dividelo dependiendo del sexo. Para ello primero comprueba que estudiantes son hombres (male). Pista: busca información sobre la función which. Basándote en esa selección dada por which() toma solo esas filas del dataset student para generar el subset stundent.male</li>
</ul>
<pre class="r"><code>students.male = students.new[which(students.new$sym==&quot;M&quot;),]
students.female = students.new[which(students.new$sym==&quot;F&quot;),]</code></pre>
<ul>
<li>Utiliza la function write.table() para guarder el contenido de student.new en un archivo.</li>
</ul>
<pre class="r"><code>write.table(students.new, &quot;./datasets/studentsnew.txt&quot;, col.names = TRUE)</code></pre>
</div>
<div id="lists" class="section level2">
<h2>3.3 Lists</h2>
<ul>
<li>Ejemplo de cómo crear una lista. Ejecuta los comandos y describe que es lo que ocurre</li>
</ul>
<pre class="r"><code>my_list &lt;- list(name=&quot;Fred&quot;, wife=&quot;Mary&quot;, nochildren=3, child.ages=c(4,7,9)) </code></pre>
<p>*Crea una lista con ciertos atributos y valores</p>
<pre class="r"><code>my_list2&lt;- list(empleado=&quot;Jose&quot;, trabajo=&quot;Analista Datos&quot;, meses_trabajo=c(month.abb[1:3]))</code></pre>
<p>*Muestra los atributos, (nombre de las variables) de nuestra lista</p>
<pre class="r"><code>names(my_list2) </code></pre>
<pre><code>## [1] &quot;empleado&quot;      &quot;trabajo&quot;       &quot;meses_trabajo&quot;</code></pre>
<ul>
<li>Similar a lo anteior pero de otro modo</li>
</ul>
<pre class="r"><code>my_list2[1:3]</code></pre>
<pre><code>## $empleado
## [1] &quot;Jose&quot;
## 
## $trabajo
## [1] &quot;Analista Datos&quot;
## 
## $meses_trabajo
## [1] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot;</code></pre>
<ul>
<li>Muestra el contenido del segundo campo de la lista y el nombre del mismo</li>
</ul>
<pre class="r"><code>my_list2[2]</code></pre>
<pre><code>## $trabajo
## [1] &quot;Analista Datos&quot;</code></pre>
<ul>
<li>Muestra el contenido del segundo campo de la lista</li>
</ul>
<pre class="r"><code>my_list2[[2]]</code></pre>
<pre><code>## [1] &quot;Analista Datos&quot;</code></pre>
<ul>
<li>Muestra el contenido del campo etiquetado como wife</li>
</ul>
<pre class="r"><code>my_list$wife[1] </code></pre>
<pre><code>## [1] &quot;Mary&quot;</code></pre>
<ul>
<li>El Campo child.ages en la lista tiene 3 elementos, muestra el segundo.</li>
</ul>
<pre class="r"><code>my_list$child.ages[3]</code></pre>
<pre><code>## [1] 9</code></pre>
<ul>
<li>Número de elementos que hay en el campo 4 de la lista</li>
</ul>
<pre class="r"><code>length(my_list[[4]]) </code></pre>
<pre><code>## [1] 3</code></pre>
<ul>
<li>Asigna a wife valores del 1 al 12</li>
</ul>
<pre class="r"><code>my_list$wife &lt;- 1:12 </code></pre>
<ul>
<li>Asigna a wife valor NULL</li>
</ul>
<pre class="r"><code>my_list$wife &lt;- NULL</code></pre>
<ul>
<li>Crea una lista con los nombres de los meses</li>
</ul>
<pre class="r"><code>my_list &lt;- c(my_list, list(my_title2=month.name[1:12]))</code></pre>
<ul>
<li>Crea un dataframe con los valores resultantes</li>
</ul>
<pre class="r"><code>data.frame(unlist(my_list))</code></pre>
<pre><code>##             unlist.my_list.
## name                   Fred
## nochildren                3
## child.ages1               4
## child.ages2               7
## child.ages3               9
## my_title21          January
## my_title22         February
## my_title23            March
## my_title24            April
## my_title25              May
## my_title26             June
## my_title27             July
## my_title28           August
## my_title29        September
## my_title210         October
## my_title211        November
## my_title212        December</code></pre>
<ul>
<li>Crea una matriz con los valores resultantes</li>
</ul>
<pre class="r"><code>matrix(unlist(my_list))</code></pre>
<pre><code>##       [,1]       
##  [1,] &quot;Fred&quot;     
##  [2,] &quot;3&quot;        
##  [3,] &quot;4&quot;        
##  [4,] &quot;7&quot;        
##  [5,] &quot;9&quot;        
##  [6,] &quot;January&quot;  
##  [7,] &quot;February&quot; 
##  [8,] &quot;March&quot;    
##  [9,] &quot;April&quot;    
## [10,] &quot;May&quot;      
## [11,] &quot;June&quot;     
## [12,] &quot;July&quot;     
## [13,] &quot;August&quot;   
## [14,] &quot;September&quot;
## [15,] &quot;October&quot;  
## [16,] &quot;November&quot; 
## [17,] &quot;December&quot;</code></pre>
</div>
<div id="table" class="section level2">
<h2>3.4 Table ()</h2>
<p>La función table() cuenta el número de elementos repetidos en un vector. Es la función más básica de clustering.</p>
<ul>
<li>Cuenta el número de entradas idénticas en la variable Sepal.Length del dataset iris.</li>
</ul>
<pre class="r"><code>table(iris$Sepal.Length)</code></pre>
<pre><code>## 
## 4.3 4.4 4.5 4.6 4.7 4.8 4.9   5 5.1 5.2 5.3 5.4 5.5 5.6 5.7 5.8 5.9   6 
##   1   3   1   4   2   5   6  10   9   4   1   6   7   6   8   7   3   6 
## 6.1 6.2 6.3 6.4 6.5 6.6 6.7 6.8 6.9   7 7.1 7.2 7.3 7.4 7.6 7.7 7.9 
##   6   4   9   7   5   2   8   3   4   1   1   3   1   1   1   4   1</code></pre>
</div>
<div id="como-ordenar-datos-hacer-selecciones-con-if-calcular-condicionales-totales-transponer-columnas-y-filas" class="section level2">
<h2>3.5 Como ordenar datos, hacer selecciones con if(), calcular condicionales totales, transponer columnas y filas</h2>
<p>Vamos a volver a utilizar el datasets mtcars.</p>
<ul>
<li>Ordena este data set de forma ascendente según su valo de hp. PISTA: with()</li>
</ul>
<pre class="r"><code>mtcars[order(mtcars$hp),]</code></pre>
<pre><code>##                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
## Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2
## Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
## Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
## Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
## AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
## Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
## Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
## Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
## Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
## Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
## Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
## Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
## Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
##                     mpgClass
## Honda Civic             High
## Merc 240D               High
## Toyota Corolla          High
## Fiat 128                High
## Fiat X1-9               High
## Porsche 914-2           High
## Datsun 710              High
## Merc 230                High
## Toyota Corona           High
## Valiant                  Low
## Volvo 142E              High
## Mazda RX4               High
## Mazda RX4 Wag           High
## Hornet 4 Drive          High
## Lotus Europa            High
## Merc 280                 Low
## Merc 280C                Low
## Dodge Challenger         Low
## AMC Javelin              Low
## Hornet Sportabout        Low
## Pontiac Firebird         Low
## Ferrari Dino             Low
## Merc 450SE               Low
## Merc 450SL               Low
## Merc 450SLC              Low
## Cadillac Fleetwood       Low
## Lincoln Continental      Low
## Chrysler Imperial        Low
## Duster 360               Low
## Camaro Z28               Low
## Ford Pantera L           Low
## Maserati Bora            Low</code></pre>
<ul>
<li>Hazlo ahora de forma descendente</li>
</ul>
<pre class="r"><code>mtcars[order(mtcars$hp, decreasing = TRUE),]</code></pre>
<pre><code>##                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
## Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
## Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
## Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
## Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
## Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
## Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
## Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
## Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
## AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
## Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
## Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
## Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2
## Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
## Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
##                     mpgClass
## Maserati Bora            Low
## Ford Pantera L           Low
## Duster 360               Low
## Camaro Z28               Low
## Chrysler Imperial        Low
## Lincoln Continental      Low
## Cadillac Fleetwood       Low
## Merc 450SE               Low
## Merc 450SL               Low
## Merc 450SLC              Low
## Hornet Sportabout        Low
## Pontiac Firebird         Low
## Ferrari Dino             Low
## Dodge Challenger         Low
## AMC Javelin              Low
## Merc 280                 Low
## Merc 280C                Low
## Lotus Europa            High
## Mazda RX4               High
## Mazda RX4 Wag           High
## Hornet 4 Drive          High
## Volvo 142E              High
## Valiant                  Low
## Toyota Corona           High
## Merc 230                High
## Datsun 710              High
## Porsche 914-2           High
## Fiat 128                High
## Fiat X1-9               High
## Toyota Corolla          High
## Merc 240D               High
## Honda Civic             High</code></pre>
<ul>
<li>Calcula la media de la columna mpg.</li>
</ul>
<pre class="r"><code>mean(mtcars$mpg)</code></pre>
<pre><code>## [1] 20.09062</code></pre>
<p>Calcula la media de mpg para aquellos datos cuyo valor de hp sea menor que 150 y por separado para aquellos cuyo valor de hp sea mayor o igual a 150</p>
<pre class="r"><code>mean(mtcars[mtcars$hp&lt;150,]$mpg)</code></pre>
<pre><code>## [1] 24.22353</code></pre>
<pre class="r"><code>mean(mtcars[mtcars$hp&gt;150,]$mpg)</code></pre>
<pre><code>## [1] 15.41538</code></pre>
<ul>
<li>Busca los valores únicos de la columna cyl de mtcars. PISTA unique()</li>
</ul>
<pre class="r"><code>unique(mtcars$cyl)</code></pre>
<pre><code>## [1] 6 4 8</code></pre>
<ul>
<li>Obten los datos de mpg cyl disp hp para “Toyota Corolla”</li>
</ul>
<pre class="r"><code>mtcars[&quot;Toyota Corolla&quot;,c(&quot;mpg&quot;,&quot;cyl&quot;,&quot;disp&quot;,&quot;hp&quot;)]</code></pre>
<pre><code>##                 mpg cyl disp hp
## Toyota Corolla 33.9   4 71.1 65</code></pre>
<ul>
<li>Crea una nueva variable mpgClass de tipo categórico cuyo valor es “Low“ si el valor de mpg es menor que la media de la columna mpg y “High” si es mayor que la media de mpg. PISTA ifelse(). Combina ese comando con with() para añadir la nueva variable a mtcars ¿qué pasa cuando ejecutas este comando?</li>
</ul>
<pre class="r"><code>mtcars$mpgClass&lt;-ifelse(mtcars$mpg&lt;(mean(mtcars$mpg)),&quot;Low&quot;, &quot;High&quot;)</code></pre>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
